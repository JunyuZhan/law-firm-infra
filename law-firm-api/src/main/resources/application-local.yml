# Windows本地开发环境配置
spring:
  # 数据源配置
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: ${SPRING_DATASOURCE_DRIVER_CLASS_NAME}
    hikari:
      minimum-idle: ${SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE}
      maximum-pool-size: ${SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE_LOCAL}
      idle-timeout: ${SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT}
      connection-timeout: ${SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT}
      connection-test-query: SELECT 1
  
  # Redis配置
  data:
    redis:
      host: ${SPRING_REDIS_HOST}
      port: ${SPRING_REDIS_PORT}
      database: ${SPRING_REDIS_DATABASE_LOCAL}
      timeout: ${SPRING_REDIS_TIMEOUT}
      lettuce:
        pool:
          min-idle: ${SPRING_REDIS_LETTUCE_POOL_MIN_IDLE}
          max-idle: ${SPRING_REDIS_LETTUCE_POOL_MAX_IDLE}
          max-active: ${SPRING_REDIS_LETTUCE_POOL_MAX_ACTIVE}
          max-wait: ${SPRING_REDIS_LETTUCE_POOL_MAX_WAIT}
  
  # Flyway配置
  flyway:
    enabled: ${SPRING_FLYWAY_ENABLED}
    baseline-on-migrate: ${SPRING_FLYWAY_BASELINE_ON_MIGRATE}
    validate-on-migrate: ${SPRING_FLYWAY_VALIDATE_ON_MIGRATE}
    locations: classpath:db/migration
    table: flyway_schema_history
    encoding: UTF-8
    out-of-order: ${SPRING_FLYWAY_OUT_OF_ORDER}
    ignore-migration-patterns: "*:missing"

# 应用存储路径配置
lawfirm:
  # 搜索服务配置
  search:
    enabled: ${LAWFIRM_SEARCH_ENABLED:true}
    type: ${LAWFIRM_SEARCH_TYPE:lucene}
  # 存储服务配置
  storage:
    enabled: ${LAWFIRM_STORAGE_ENABLED:true}
    defaultType: ${LAWFIRM_STORAGE_TYPE:LOCAL}
    path:
      baseDir: ${LAWFIRM_STORAGE_PATH:${user.home}/law-firm/storage}
      tempDir: ${LAWFIRM_STORAGE_TEMP_PATH:${user.home}/law-firm/storage/temp}
    local:
      enabled: true
      basePath: ${LAWFIRM_STORAGE_LOCAL_PATH:${user.home}/law-firm/storage}

# 日志配置
logging:
  level:
    root: ${LOGGING_LEVEL_ROOT:INFO}
    com.lawfirm: ${LOGGING_LEVEL_APP:DEBUG}
    org.springframework: ${LOGGING_LEVEL_SPRING:INFO}
    com.zaxxer.hikari: ${LOGGING_LEVEL_HIKARI:INFO}
    org.apache.ibatis: ${LOGGING_LEVEL_MYBATIS:INFO}
  file:
    name: ${LOG_FILE:${user.home}/logs/law-firm-local.log} 