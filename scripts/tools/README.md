# 数据库维护工具

此目录包含用于数据库维护的工具脚本。

## 重置数据库 (reset_database.bat)

此批处理文件用于完全清除数据库中的所有表和Flyway迁移历史，以便重新执行所有迁移脚本。

### 使用方法

1. 编辑 `reset_database.bat` 文件，修改数据库连接信息：
   ```
   set MYSQL_USER=root           # 数据库用户名
   set MYSQL_PASSWORD=           # 数据库密码（留空将在执行时提示输入）
   set MYSQL_DATABASE=law_firm_db # 数据库名称
   set MYSQL_HOST=localhost      # 数据库主机
   ```

2. 双击执行 `reset_database.bat`
   - 如果密码为空，将在执行时提示输入密码
   - 如果出现中文乱码，请确保命令行窗口使用UTF-8编码

3. 重置完成后，可以重新启动应用程序，让Flyway执行所有迁移脚本

### 故障排除

- **中文乱码问题**：脚本已包含`chcp 65001`命令设置UTF-8编码，如果仍有乱码，请手动在命令行执行此命令
- **数据库连接错误**：如果出现"Access denied"错误，请检查用户名和密码是否正确
- **权限问题**：确保用户有足够权限删除和创建表

## 注意事项

- 执行这些工具会清除所有数据库表和数据，请在执行前备份重要数据
- 这些工具主要用于开发和测试环境，不应在生产环境中使用 