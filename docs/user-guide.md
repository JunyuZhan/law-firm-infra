# å¾‹å¸ˆäº‹åŠ¡æ‰€ç®¡ç†ç³»ç»Ÿä½¿ç”¨æ•™ç¨‹

æœ¬æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«äº†ç³»ç»Ÿæ‰€æœ‰ä¸šåŠ¡æ¨¡å—çš„ä½¿ç”¨è¯´æ˜ã€‚

## ç›®å½•

- [law-firm - æ³•å¾‹äº‹åŠ¡ç®¡ç†ç³»ç»Ÿæ¨¡å—](#law-firm)
- [law-firm-common - Webæ¨¡å—ï¼Œæä¾›Webç›¸å…³åŠŸèƒ½](#law-firm-common)
- [law-firm-core - å·¥ä½œæµæ ¸å¿ƒæ¨¡å—](#law-firm-core)
- [law-firm-model - å·¥ä½œæµæ¨¡å‹æ¨¡å—](#law-firm-model)
- [law-firm-modules - ä»»åŠ¡ç®¡ç†æ¨¡å—](#law-firm-modules)

---

# å¾‹å¸ˆäº‹åŠ¡æ‰€ç®¡ç†ç³»ç»Ÿ (Law Firm Management System)

## æŠ€æœ¯æ¶æ„
**æ ¸å¿ƒç»„ä»¶**ï¼š
- å¾®æœåŠ¡æ¡†æ¶ï¼šSpring Cloud 2022.0.1
- å®‰å…¨è®¤è¯ï¼šSpring Security 6.1.0
- æ•°æ®è®¿é—®ï¼šMyBatis-Plus 3.5.3.1

**åŸºç¡€è®¾æ–½**ï¼š
- æ•°æ®åº“ï¼šMySQL 8.0 + MongoDB 6.0
- ç¼“å­˜ï¼šRedis 7.0 é›†ç¾¤
- æ¶ˆæ¯é˜Ÿåˆ—ï¼šRocketMQ 5.0

## å¼€å‘è§„èŒƒ
### 1. ä»£ç è§„èŒƒ
- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ
- ç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–æ¨¡æ¿
- è§„èŒƒçš„æ³¨é‡Šå’Œæ–‡æ¡£
- å®Œæ•´çš„å•å…ƒæµ‹è¯•
- ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†

### 2. æ¥å£è§„èŒƒ
- RESTful APIè®¾è®¡è§„èŒƒ
- ç»Ÿä¸€çš„å“åº”æ ¼å¼
- å®Œæ•´çš„æ¥å£æ–‡æ¡£
- æ ‡å‡†çš„é”™è¯¯ç 
- æ¥å£ç‰ˆæœ¬æ§åˆ¶

### 3. å®‰å…¨è§„èŒƒ
- èº«ä»½è®¤è¯
- æƒé™æ§åˆ¶
- æ•°æ®åŠ å¯†
- å®‰å…¨å®¡è®¡
- æ¼æ´é˜²æŠ¤

## æ¨¡å—è¯¦ç»†åˆ†å·¥

### åŸºç¡€ä¸šåŠ¡æ¨¡å—
#### law-firm-authï¼ˆè®¤è¯æˆæƒæ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šè´Ÿè´£æ•´ä¸ªç³»ç»Ÿçš„è®¤è¯ã€æˆæƒä¸å®‰å…¨ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - ç”¨æˆ·è®¤è¯ï¼ˆç™»å½•ã€æ³¨é”€ã€å¤šå› ç´ è®¤è¯ï¼‰
  - æƒé™ç®¡ç†ï¼ˆåŸºäºè§’è‰²/æƒé™çš„è®¿é—®æ§åˆ¶ï¼‰
  - å®‰å…¨å®¡è®¡ï¼ˆæ“ä½œæ—¥å¿—ã€å®‰å…¨æ—¥å¿—ï¼‰
  - ä¼šè¯ç®¡ç†ï¼ˆä»¤ç‰Œç”Ÿæˆã€éªŒè¯ã€åˆ·æ–°ï¼‰
  - å•ç‚¹ç™»å½•é›†æˆ
- **æŠ€æœ¯ç»„ä»¶**ï¼šSpring Securityã€JWTã€OAuth2.0
- **æ•°æ®ç®¡ç†**ï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€æ“ä½œæ—¥å¿—
- **å¯¹å¤–æ¥å£**ï¼šèº«ä»½éªŒè¯APIã€æƒé™æ£€æŸ¥APIã€ç”¨æˆ·ä¿¡æ¯API


### law-firm-systemï¼ˆç³»ç»Ÿç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šç³»ç»ŸåŸºç¡€è®¾ç½®ä¸è¿ç»´ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - ç»„ç»‡æ¶æ„ç®¡ç†ï¼ˆéƒ¨é—¨ã€èŒä½ã€å›¢é˜Ÿï¼‰
  - ç³»ç»Ÿå‚æ•°é…ç½®
  - å­—å…¸ç®¡ç†ï¼ˆå…¬å…±ä»£ç è¡¨ï¼‰
  - èœå•ç®¡ç†
  - ç³»ç»Ÿç›‘æ§ä¸å‘Šè­¦
  - å®¡è®¡æ—¥å¿—ç®¡ç†
- **æŠ€æœ¯ç»„ä»¶**ï¼šSpring Adminã€Actuator
- **æ•°æ®ç®¡ç†**ï¼šç»„ç»‡ã€é…ç½®ã€å­—å…¸ã€èœå•ã€ç³»ç»Ÿæ—¥å¿—
- **å¯¹å¤–æ¥å£**ï¼šç»„ç»‡æ¶æ„APIã€ç³»ç»Ÿé…ç½®APIã€å­—å…¸API

### law-firm-documentï¼ˆæ–‡æ¡£ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šç³»ç»Ÿå…¨å±€æ–‡æ¡£ç®¡ç†ä¸å­˜å‚¨æœåŠ¡
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - æ–‡æ¡£ä¸Šä¼ ä¸ä¸‹è½½
  - æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶
  - æ–‡æ¡£åˆ†ç±»ä¸æ ‡ç­¾
  - å…¨æ–‡æ£€ç´¢
  - æ–‡æ¡£è½¬æ¢ä¸é¢„è§ˆ
  - æ–‡æ¡£æƒé™æ§åˆ¶
- **æŠ€æœ¯ç»„ä»¶**ï¼šMinIO/S3ã€PDFå¤„ç†åº“ã€OCR
- **æ•°æ®ç®¡ç†**ï¼šæ–‡æ¡£å…ƒæ•°æ®ã€æ–‡æ¡£å†…å®¹ã€æ–‡æ¡£ç‰ˆæœ¬ã€æ–‡æ¡£åˆ†ç±»
- **å¯¹å¤–æ¥å£**ï¼šæ–‡æ¡£CRUD APIã€æ–‡æ¡£æœç´¢APIã€æ–‡æ¡£é¢„è§ˆAPI

## æ ¸å¿ƒä¸šåŠ¡æ¨¡å—

### law-firm-caseï¼ˆæ¡ˆä»¶ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€æ¡ˆä»¶å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - æ¡ˆä»¶ç™»è®°ä¸åˆ†ç±»
  - æ¡ˆä»¶å›¢é˜Ÿç®¡ç†
  - æ¡ˆä»¶é˜¶æ®µç®¡ç†
  - æ¡ˆä»¶æ–‡æ¡£ç®¡ç†
  - æ¡ˆä»¶ä»»åŠ¡åˆ†é…
  - æ¡ˆä»¶å…³è”ç®¡ç†ï¼ˆå…³è”å®¢æˆ·ã€åˆåŒç­‰ï¼‰
  - æ¡ˆä»¶æ—¶é—´è®°å½•
  - æ¡ˆä»¶ç»Ÿè®¡åˆ†æ
- **æŠ€æœ¯ç»„ä»¶**ï¼šcore-workflowé›†æˆ
- **æ•°æ®ç®¡ç†**ï¼šæ¡ˆä»¶åŸºæœ¬ä¿¡æ¯ã€æ¡ˆä»¶è¿›åº¦ã€æ¡ˆä»¶å›¢é˜Ÿã€æ¡ˆä»¶æ–‡æ¡£
- **å¯¹å¤–æ¥å£**ï¼šæ¡ˆä»¶CRUD APIã€æ¡ˆä»¶æµç¨‹APIã€æ¡ˆä»¶ç»Ÿè®¡API
- **ä¾èµ–æ¨¡å—**ï¼šclientã€documentã€taskã€personnel

### law-firm-clientï¼ˆå®¢æˆ·ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå®¢æˆ·ä¿¡æ¯ä¸å®¢æˆ·å…³ç³»ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - å®¢æˆ·ä¿¡æ¯ç®¡ç†ï¼ˆä¸ªäºº/æœºæ„ï¼‰
  - å®¢æˆ·è”ç³»äººç®¡ç†
  - å®¢æˆ·åˆ†ç±»ä¸æ ‡ç­¾
  - å®¢æˆ·å…³ç³»ç»´æŠ¤è®°å½•
  - å®¢æˆ·æ»¡æ„åº¦è¯„ä¼°
  - å®¢æˆ·é£é™©è¯„ä¼°
  - æ½œåœ¨å®¢æˆ·ç®¡ç†
- **æŠ€æœ¯ç»„ä»¶**ï¼šæ•°æ®åŠ å¯†ã€æ•°æ®è´¨é‡æ ¡éªŒ
- **æ•°æ®ç®¡ç†**ï¼šå®¢æˆ·åŸºæœ¬ä¿¡æ¯ã€è”ç³»äººã€å®¢æˆ·å…³ç³»è®°å½•
- **å¯¹å¤–æ¥å£**ï¼šå®¢æˆ·CRUD APIã€å®¢æˆ·å…³ç³»APIã€å®¢æˆ·æœç´¢API
- **ä¾èµ–æ¨¡å—**ï¼šsystemã€document

### law-firm-contractï¼ˆåˆåŒç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€å†…å¤–éƒ¨åˆåŒç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - åˆåŒèµ·è‰ä¸æ¨¡æ¿ç®¡ç†
  - åˆåŒå®¡æ‰¹æµç¨‹
  - åˆåŒæ‰§è¡Œè·Ÿè¸ª
  - æ”¶ä»˜æ¬¾è®¡åˆ’ç®¡ç†
  - åˆåŒå˜æ›´ç®¡ç†
  - åˆåŒåˆ°æœŸæé†’
  - å¾‹å¸ˆå‡½ç®¡ç†
- **æŠ€æœ¯ç»„ä»¶**ï¼šcore-workflowé›†æˆã€åˆåŒæ¨¡æ¿å¼•æ“
- **æ•°æ®ç®¡ç†**ï¼šåˆåŒåŸºæœ¬ä¿¡æ¯ã€åˆåŒæ¡æ¬¾ã€åˆåŒå±¥è¡ŒçŠ¶æ€
- **å¯¹å¤–æ¥å£**ï¼šåˆåŒCRUD APIã€åˆåŒæ¨¡æ¿APIã€åˆåŒå®¡æ‰¹API
- **ä¾èµ–æ¨¡å—**ï¼šclientã€documentã€finance

### law-firm-financeï¼ˆè´¢åŠ¡ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€è´¢åŠ¡ä¸è´¹ç”¨ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - æ”¶è´¹é¡¹ç›®ç®¡ç†
  - è®¡è´¹æ¨¡å¼ç®¡ç†ï¼ˆå›ºå®šè´¹ç”¨ã€è®¡æ—¶æ”¶è´¹ç­‰ï¼‰
  - è´¦å•ç”Ÿæˆä¸å‘é€
  - æ”¶ä»˜æ¬¾ç®¡ç†
  - æˆæœ¬æ ¸ç®—
  - å‘ç¥¨ç®¡ç†
  - è´¦æœŸç®¡ç†ä¸å‚¬æ¬¾
  - è´¢åŠ¡æŠ¥è¡¨
- **æŠ€æœ¯ç»„ä»¶**ï¼šæŠ¥è¡¨ç”Ÿæˆã€è´¢åŠ¡è®¡ç®—
- **æ•°æ®ç®¡ç†**ï¼šæ”¶è´¹é¡¹ç›®ã€è´¦å•ã€æ”¶ä»˜æ¬¾è®°å½•ã€å‘ç¥¨
- **å¯¹å¤–æ¥å£**ï¼šè®¡è´¹APIã€è´¦å•APIã€æ”¶ä»˜æ¬¾APIã€æŠ¥è¡¨API
- **ä¾èµ–æ¨¡å—**ï¼šclientã€caseã€contract

## æ”¯æ’‘ä¸šåŠ¡æ¨¡å—

### law-firm-personnelï¼ˆäººäº‹ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€äººå‘˜ã€ç»©æ•ˆä¸åŸ¹è®­ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - äººå‘˜æ¡£æ¡ˆç®¡ç†
  - ç»©æ•ˆè€ƒæ ¸ä¸è¯„ä¼°
  - å·¥æ—¶ç™»è®°ä¸ç»Ÿè®¡
  - é¡¹ç›®è´¡çŒ®åº¦ç»Ÿè®¡
  - åŸ¹è®­ä¸å‘å±•
  - ä¸“ä¸šæŠ€èƒ½ç®¡ç†
- **æŠ€æœ¯ç»„ä»¶**ï¼šè€ƒæ ¸è¯„ä¼°ç®—æ³•
- **æ•°æ®ç®¡ç†**ï¼šäººå‘˜ä¿¡æ¯ã€ç»©æ•ˆæ•°æ®ã€å·¥æ—¶è®°å½•ã€åŸ¹è®­è®°å½•
- **å¯¹å¤–æ¥å£**ï¼šäººå‘˜APIã€ç»©æ•ˆAPIã€å·¥æ—¶API
- **ä¾èµ–æ¨¡å—**ï¼šsystemã€document

### law-firm-knowledgeï¼ˆçŸ¥è¯†ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€çŸ¥è¯†èµ„äº§ç®¡ç†ä¸åˆ©ç”¨
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - æ³•å¾‹çŸ¥è¯†åº“ç®¡ç†
  - æ¡ˆä¾‹åº“ç®¡ç†
  - æ–‡ä¹¦æ¨¡æ¿ç®¡ç†
  - ç ”ç©¶æˆæœç®¡ç†
  - æ³•è§„åŠ¨æ€è·Ÿè¸ª
  - çŸ¥è¯†åˆ†äº«ä¸åä½œ
- **æŠ€æœ¯ç»„ä»¶**ï¼šå…¨æ–‡æ£€ç´¢ã€åˆ†ç±»ç®—æ³•
- **æ•°æ®ç®¡ç†**ï¼šçŸ¥è¯†æ¡ç›®ã€æ¡ˆä¾‹ã€æ¨¡æ¿ã€æ³•è§„
- **å¯¹å¤–æ¥å£**ï¼šçŸ¥è¯†åº“APIã€æ¡ˆä¾‹åº“APIã€æ³•è§„åº“API
- **ä¾èµ–æ¨¡å—**ï¼šdocumentã€case

### law-firm-analysisï¼ˆæ•°æ®åˆ†ææ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šç³»ç»Ÿæ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - ä¸šåŠ¡æ•°æ®åˆ†æ
  - ç»©æ•ˆåˆ†æ
  - è´¢åŠ¡åˆ†æ
  - å®¢æˆ·åˆ†æ
  - æ¡ˆä»¶ç±»å‹ä¸æˆåŠŸç‡åˆ†æ
  - è¶‹åŠ¿åˆ†æ
  - é¢„æµ‹åˆ†æ
- **æŠ€æœ¯ç»„ä»¶**ï¼šæ•°æ®ä»“åº“ã€OLAPã€å¯è§†åŒ–
- **æ•°æ®ç®¡ç†**ï¼šåˆ†ææ¨¡å‹ã€åˆ†æç»“æœã€æŠ¥è¡¨
- **å¯¹å¤–æ¥å£**ï¼šæ•°æ®åˆ†æAPIã€æŠ¥è¡¨API
- **ä¾èµ–æ¨¡å—**ï¼šå‡ ä¹æ‰€æœ‰å…¶ä»–ä¸šåŠ¡æ¨¡å—

### law-firm-archiveï¼ˆæ¡£æ¡ˆç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šå¾‹æ‰€ç”µå­ä¸çº¸è´¨æ¡£æ¡ˆç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - æ¡£æ¡ˆåˆ†ç±»ä¸ç¼–ç 
  - æ¡£æ¡ˆå…¥åº“ä¸å€Ÿé˜…
  - æ¡£æ¡ˆç§»äº¤ä¸é”€æ¯
  - ç”µå­æ¡£æ¡ˆä¸å®ä½“æ¡£æ¡ˆå…³è”
  - æ¡£æ¡ˆæ¸…å•ä¸ç›®å½•
  - æ¡£æ¡ˆå®Œæ•´æ€§æ£€æŸ¥
- **æŠ€æœ¯ç»„ä»¶**ï¼šæ¡ç /RFIDé›†æˆ
- **æ•°æ®ç®¡ç†**ï¼šæ¡£æ¡ˆå…ƒæ•°æ®ã€æ¡£æ¡ˆä½ç½®ã€æ¡£æ¡ˆçŠ¶æ€
- **å¯¹å¤–æ¥å£**ï¼šæ¡£æ¡ˆCRUD APIã€æ¡£æ¡ˆæ£€ç´¢API
- **ä¾èµ–æ¨¡å—**ï¼šdocumentã€caseã€contract

## è¾…åŠ©ä¸šåŠ¡æ¨¡å—

### law-firm-taskï¼ˆä»»åŠ¡ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šä»»åŠ¡å’Œå¾…åŠäº‹é¡¹ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - ä»»åŠ¡åˆ›å»ºä¸åˆ†é…
  - ä»»åŠ¡ä¼˜å…ˆçº§ä¸æˆªæ­¢æ—¥æœŸ
  - ä»»åŠ¡ä¾èµ–å…³ç³»
  - ä»»åŠ¡åä½œä¸æ²Ÿé€š
  - ä»»åŠ¡æé†’ä¸é€šçŸ¥
  - ä»»åŠ¡å®Œæˆä¸å»¶æœŸå¤„ç†
- **æŠ€æœ¯ç»„ä»¶**ï¼šcore-workflowé›†æˆã€é€šçŸ¥æœåŠ¡
- **æ•°æ®ç®¡ç†**ï¼šä»»åŠ¡åŸºæœ¬ä¿¡æ¯ã€ä»»åŠ¡çŠ¶æ€ã€ä»»åŠ¡å…³è”
- **å¯¹å¤–æ¥å£**ï¼šä»»åŠ¡CRUD APIã€ä»»åŠ¡åˆ†é…APIã€ä»»åŠ¡çŠ¶æ€API
- **ä¾èµ–æ¨¡å—**ï¼šsystemã€personnel

### law-firm-scheduleï¼ˆæ—¥ç¨‹ç®¡ç†æ¨¡å—ï¼‰
- **æ ¸å¿ƒèŒè´£**ï¼šæ—¥ç¨‹å®‰æ’ä¸ä¼šè®®ç®¡ç†
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - ä¸ªäººæ—¥ç¨‹ç®¡ç†
  - å›¢é˜Ÿæ—¥ç¨‹åè°ƒ
  - ä¼šè®®å®¤é¢„çº¦
  - æ—¥ç¨‹æé†’
  - å¤–éƒ¨æ—¥ç¨‹é›†æˆ
  - åº­å®¡å®‰æ’
- **æŠ€æœ¯ç»„ä»¶**ï¼šæ—¥å†åŒæ­¥ã€æé†’æœåŠ¡
- **æ•°æ®ç®¡ç†**ï¼šæ—¥ç¨‹ä¿¡æ¯ã€ä¼šè®®ä¿¡æ¯ã€æé†’è®¾ç½®
- **å¯¹å¤–æ¥å£**ï¼šæ—¥ç¨‹APIã€ä¼šè®®å®¤APIã€æé†’API
- **ä¾èµ–æ¨¡å—**ï¼špersonnelã€case

> **æ³¨ï¼šåŸè®¡åˆ’çš„åˆ©ç›Šå†²çªæ£€æŸ¥åŠŸèƒ½å·²æ•´åˆåˆ°åˆåŒç®¡ç†æ¨¡å—(law-firm-contract)ä¸­å®ç°ï¼Œä»¥ç®€åŒ–æ¶æ„ã€‚**

## æ”¯æŒæ¨¡å—æ¸…å•

- ğŸ” law-firm-auth
- ğŸ¢ law-firm-system
- ğŸ‘¥ law-firm-personnel
- ğŸ’¼ law-firm-case
- ğŸ“„ law-firm-contract
- ğŸ‘ª law-firm-client
- ğŸ’° law-firm-finance
- ğŸ“‘ law-firm-document
- ğŸ“š law-firm-knowledge
- ğŸ“… law-firm-schedule
- âœ… law-firm-task
- ï¿½ï¿½ law-firm-archive
- ğŸ“Š law-firm-analysis

## æ¨¡å—é—´ä¾èµ–å…³ç³»
### å±‚çº§ç»“æ„
1. **åŸºç¡€å±‚**ï¼š
   - ğŸ“¦ law-firm-auth
   - ğŸ“¦ law-firm-system
   - ğŸ“¦ law-firm-document

2. **æ ¸å¿ƒå±‚**ï¼š
   - ğŸ¢ law-firm-case
   - ğŸ¤ law-firm-client
   - ğŸ“‘ law-firm-contract
   - ğŸ’° law-firm-finance

3. **æ”¯æ’‘å±‚**ï¼š
   - ğŸ‘¥ law-firm-personnel
   - ğŸ§  law-firm-knowledge
   - ğŸ“Š law-firm-analysis
   - ğŸ—ƒï¸ law-firm-archive

4. **è¾…åŠ©å±‚**ï¼š
   - âœ… law-firm-task
   - ğŸ“… law-firm-schedule
   - ğŸ–¨ï¸ law-firm-supplies
   - ğŸ·ï¸ law-firm-asset
   - ğŸ–‹ï¸ law-firm-seal

## æ ¸å¿ƒå·¥ä½œæµé›†æˆç­–ç•¥
### æµç¨‹é›†æˆç‚¹
| æ¨¡å—           | é›†æˆåœºæ™¯                 | ä¸šåŠ¡ç±»å‹æ ‡è¯†       |
|----------------|------------------------|-------------------|
| æ¡ˆä»¶ç®¡ç†æ¨¡å—    | æ¡ˆä»¶é˜¶æ®µè½¬æ¢å®¡æ‰¹        | CASE_PHASE_CHANGE |
| åˆåŒç®¡ç†æ¨¡å—    | åˆåŒç‰ˆæœ¬å˜æ›´å®¡æ‰¹        | CONTRACT_UPDATE   |
| è´¢åŠ¡ç®¡ç†æ¨¡å—    | å¤§é¢è´¹ç”¨æŠ¥é”€å®¡æ‰¹        | FINANCE_REIMBURSE |
| å°ç« ç®¡ç†æ¨¡å—    | å°ç« ä½¿ç”¨ç”³è¯·å®¡æ‰¹        | SEAL_APPLICATION  |
| äººäº‹ç®¡ç†æ¨¡å—    | ç»©æ•ˆè€ƒæ ¸ç»“æœç¡®è®¤        | PERFORMANCE_REVIEW|

æ³¨ï¼šå„ä¸šåŠ¡æ¨¡å—æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œä½¿ç”¨ProcessCreateDTOä¸­çš„businessTypeå­—æ®µï¼Œæ ‡è¯†ä¸åŒä¸šåŠ¡ç±»å‹çš„æµç¨‹ï¼Œå¹¶åœ¨å„è‡ªæ¨¡å—å†…å®ç°ç‰¹å®šä¸šåŠ¡é€»è¾‘ã€‚

## ç³»ç»Ÿè¯´æ˜
å¾‹å¸ˆäº‹åŠ¡æ‰€ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€å¥—å®Œæ•´çš„å¾‹æ‰€ä¸šåŠ¡ç®¡ç†è§£å†³æ–¹æ¡ˆ...



---

# Common Web Module

## ç®€ä»‹
Common Webæ¨¡å—æ˜¯å¾‹æ‰€ç®¡ç†ç³»ç»Ÿçš„Webé€šç”¨åŠŸèƒ½æ¨¡å—ï¼Œæä¾›äº†Webåº”ç”¨å¼€å‘æ‰€éœ€çš„åŸºç¡€è®¾æ–½å’Œå·¥å…·ç±»ã€‚è¯¥æ¨¡å—ä¾èµ–äº`common-core`æ¨¡å—ï¼Œä¸ºå…¶ä»–ä¸šåŠ¡æ¨¡å—æä¾›Webå±‚é¢çš„æ”¯æŒã€‚

## ä¸»è¦åŠŸèƒ½

### 1. Webé…ç½® (`WebConfig`)
- CORSè·¨åŸŸé…ç½®
  - æ”¯æŒæ‰€æœ‰æº(`*`)
  - å…è®¸çš„HTTPæ–¹æ³•: GET, POST, PUT, DELETE, OPTIONS
  - å…è®¸æ‰€æœ‰è¯·æ±‚å¤´
  - å…è®¸æºå¸¦è®¤è¯ä¿¡æ¯
  - é¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´: 3600ç§’
- æ¶ˆæ¯è½¬æ¢å™¨é…ç½®
  - Longç±»å‹è‡ªåŠ¨è½¬String (è§£å†³å‰ç«¯ç²¾åº¦ä¸¢å¤±é—®é¢˜)
  - JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ”¯æŒ

### 2. å®‰å…¨é…ç½® (`SecurityConfig`)
- XSSè¿‡æ»¤å™¨
  - è‡ªåŠ¨è¿‡æ»¤è¯·æ±‚å‚æ•°ä¸­çš„XSSæ”»å‡»ä»£ç 
  - æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™

### 3. æ–‡ä»¶ä¸Šä¼ é…ç½® (`UploadConfig`)
- å•ä¸ªæ–‡ä»¶å¤§å°é™åˆ¶: 10MB
- æ€»ä¸Šä¼ å¤§å°é™åˆ¶: 20MB
- æ”¯æŒæ–‡ä»¶ä¸Šä¼ çš„Multiparté…ç½®

### 4. å…¨å±€å¼‚å¸¸å¤„ç† (`GlobalExceptionHandler`)
- æ¡†æ¶å¼‚å¸¸å¤„ç†
- å‚æ•°æ ¡éªŒå¼‚å¸¸å¤„ç†
- å‚æ•°ç»‘å®šå¼‚å¸¸å¤„ç†
- æœªçŸ¥å¼‚å¸¸ç»Ÿä¸€å¤„ç†

### 5. å·¥å…·ç±»

#### IPåœ°å€å·¥å…· (`IpUtils`)
- è·å–è¯·æ±‚çš„çœŸå®IPåœ°å€
- è·å–æœ¬æœºIPåœ°å€
- IPåœ°å€åˆæ³•æ€§æ ¡éªŒ
- å†…ç½‘IPåˆ¤æ–­
- å…¬ç½‘IPåˆ¤æ–­

### 6. Webæ”¯æŒç±»

#### åŸºç¡€Webæ”¯æŒ (`WebSupport`)
- æä¾›Requestã€Responseã€Sessionçš„ä¾¿æ·è®¿é—®
- æ”¯æŒWebä¸Šä¸‹æ–‡æ“ä½œ

#### å‚æ•°éªŒè¯æ”¯æŒ (`ValidSupport`)
- å¿…å¡«å‚æ•°éªŒè¯
- æ•´æ•°å‚æ•°éªŒè¯
- é•¿æ•´æ•°å‚æ•°éªŒè¯
- å¸ƒå°”å‚æ•°éªŒè¯

#### åˆ†é¡µæ”¯æŒ (`PageSupport`)
- åˆ†é¡µå‚æ•°è·å–
- æ’åºå‚æ•°å¤„ç†
- åˆ†é¡µå‚æ•°éªŒè¯

### 7. è¯·æ±‚/å“åº”å¯¹è±¡
- åˆ†é¡µè¯·æ±‚å¯¹è±¡ (`PageRequest`)
  - æ”¯æŒé¡µç ã€æ¯é¡µè®°å½•æ•°
  - æ”¯æŒæ’åºå­—æ®µå’Œæ’åºæ–¹å¼

## ä¾èµ–å…³ç³»
```xml
<dependencies>
    <!-- Common Core -->
    <dependency>
        <groupId>com.lawfirm</groupId>
        <artifactId>common-core</artifactId>
    </dependency>

    <!-- Spring Boot Web -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>

    <!-- Knife4j -->
    <dependency>
        <groupId>com.github.xiaoymin</groupId>
        <artifactId>knife4j-openapi3-spring-boot-starter</artifactId>
        <version>4.3.0</version>
    </dependency>
</dependencies>
```

## ä½¿ç”¨æ–¹å¼

### 1. å¼•å…¥ä¾èµ–
åœ¨éœ€è¦ä½¿ç”¨WebåŠŸèƒ½çš„æ¨¡å—çš„`pom.xml`ä¸­æ·»åŠ ï¼š
```xml
<dependency>
    <groupId>com.lawfirm</groupId>
    <artifactId>common-web</artifactId>
    <version>${project.version}</version>
</dependency>
```

### 2. è‡ªåŠ¨é…ç½®
æ¨¡å—æä¾›äº†è‡ªåŠ¨é…ç½®ç±»`WebAutoConfiguration`ï¼Œä¼šè‡ªåŠ¨æ³¨å…¥ä»¥ä¸‹é…ç½®ï¼š
- WebConfig (Web MVCé…ç½®)
- UploadConfig (æ–‡ä»¶ä¸Šä¼ é…ç½®)
- SecurityConfig (å®‰å…¨é…ç½®)

### 3. ä½¿ç”¨ç¤ºä¾‹

#### åˆ†é¡µè¯·æ±‚å¤„ç†
```java
@RestController
@RequestMapping("/api/example")
public class ExampleController extends PageSupport {
    
    @GetMapping("/list")
    public CommonResult<?> list() {
        Integer pageNum = getPageNum();
        Integer pageSize = getPageSize();
        String orderBy = getOrderBy();
        Boolean isAsc = getIsAsc();
        // è¿›è¡Œåˆ†é¡µæŸ¥è¯¢...
    }
}
```

#### IPåœ°å€å·¥å…·ä½¿ç”¨
```java
@RestController
public class DemoController {
    
    @GetMapping("/ip")
    public String getIp(HttpServletRequest request) {
        // è·å–çœŸå®IPåœ°å€
        String ip = IpUtils.getIpAddr(request);
        // åˆ¤æ–­æ˜¯å¦æ˜¯å†…ç½‘IP
        boolean isInternal = IpUtils.isInternalIP(ip);
        return ip;
    }
}
```

## æ³¨æ„äº‹é¡¹
1. å…¨å±€å¼‚å¸¸å¤„ç†å™¨åªå¤„ç†æ¡†æ¶çº§çš„åŸºç¡€å¼‚å¸¸ï¼Œä¸šåŠ¡å¼‚å¸¸åº”è¯¥ç”±å…·ä½“çš„ä¸šåŠ¡æ¨¡å—è‡ªè¡Œå¤„ç†
2. æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶è¦†ç›–é»˜è®¤é…ç½®
3. XSSè¿‡æ»¤å™¨é»˜è®¤å¯¹æ‰€æœ‰è¯·æ±‚å‚æ•°è¿›è¡Œè¿‡æ»¤ï¼Œå¦‚éœ€æ’é™¤ç‰¹å®šå‚æ•°ï¼Œè¯·è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™

## å¸¸è§é—®é¢˜
1. è·¨åŸŸè¯·æ±‚å¤±è´¥
   - æ£€æŸ¥ç›®æ ‡åŸŸåæ˜¯å¦åœ¨å…è®¸åˆ—è¡¨ä¸­
   - ç¡®è®¤è¯·æ±‚æ–¹æ³•æ˜¯å¦è¢«å…è®¸
   - éªŒè¯æ˜¯å¦å…è®¸å‘é€è®¤è¯ä¿¡æ¯

2. æ–‡ä»¶ä¸Šä¼ å¤±è´¥
   - æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶
   - ç¡®è®¤ä¸Šä¼ ç›®å½•æƒé™æ˜¯å¦æ­£ç¡®
   - éªŒè¯æ–‡ä»¶ç±»å‹æ˜¯å¦è¢«å…è®¸

3. å“åº”æ ¼å¼å¼‚å¸¸
   - æ£€æŸ¥å“åº”å¯¹è±¡æ˜¯å¦æ­£ç¡®å°è£…
   - ç¡®è®¤æ¶ˆæ¯è½¬æ¢å™¨é…ç½®æ˜¯å¦æ­£ç¡®
   - éªŒè¯åºåˆ—åŒ–/ååºåˆ—åŒ–æ˜¯å¦æ­£å¸¸

## ç›¸å…³æ–‡æ¡£
- [Spring Boot å®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-boot/docs/current/reference/html/)
- [Spring MVC å®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html)
- [Swagger å®˜æ–¹æ–‡æ¡£](https://swagger.io/docs/) 

---

# å·¥ä½œæµå¼•æ“æ¨¡å—

## æ¨¡å—è¯´æ˜

å·¥ä½œæµå¼•æ“æ¨¡å—(`core-workflow`)æ˜¯æ ¸å¿ƒåŠŸèƒ½å±‚çš„å…³é”®ç»„æˆéƒ¨åˆ†ï¼ŒåŸºäºFlowableå·¥ä½œæµå¼•æ“å°è£…ï¼Œæä¾›æµç¨‹å®šä¹‰ã€æµç¨‹å®ä¾‹ã€ä»»åŠ¡ç®¡ç†ç­‰åŠŸèƒ½ã€‚æœ¬æ¨¡å—**ä»…ä½œä¸ºåŠŸèƒ½å°è£…å±‚**æä¾›å·¥ä½œæµèƒ½åŠ›æ”¯æŒï¼Œä¸ç›´æ¥å¯¹å¤–æš´éœ²RESTæ¥å£ï¼Œä¸è´Ÿè´£æ•°æ®æŒä¹…åŒ–å’Œé…ç½®ç®¡ç†ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. æµç¨‹å¼•æ“å°è£…
- Flowableå·¥ä½œæµå¼•æ“é›†æˆå’Œé…ç½®
- æµç¨‹å®šä¹‰ç®¡ç†æ¥å£
- æµç¨‹å®ä¾‹ç®¡ç†æ¥å£
- ä»»åŠ¡ç®¡ç†æ¥å£

### 2. è¡¨å•ç®¡ç†
- è¡¨å•å®šä¹‰æ¥å£
- è¡¨å•æ•°æ®å¤„ç†
- è¡¨å•éªŒè¯æ”¯æŒ

### 3. æµç¨‹ç›‘æ§
- æµç¨‹å®ä¾‹çŠ¶æ€æŸ¥è¯¢
- ä»»åŠ¡æ‰§è¡Œç›‘æ§
- æµç¨‹æ€§èƒ½ç›‘æ§

### 4. æµç¨‹æƒé™
- æµç¨‹å‘èµ·æƒé™æ§åˆ¶æ¥å£
- ä»»åŠ¡å¤„ç†æƒé™æ§åˆ¶æ¥å£

## ä½¿ç”¨æ–¹å¼

### 1. æ·»åŠ ä¾èµ–
åœ¨ä¸šåŠ¡æ¨¡å—çš„pom.xmlä¸­æ·»åŠ ï¼š
```xml
<dependency>
    <groupId>com.lawfirm</groupId>
    <artifactId>law-firm-core-workflow</artifactId>
</dependency>
```

### 2. å®šä¹‰æ•°æ®å­˜å‚¨å’Œé…ç½®
- **é‡è¦**ï¼šä¸šåŠ¡æ¨¡å—è´Ÿè´£å®šä¹‰å’Œç®¡ç†å·¥ä½œæµç›¸å…³çš„æ•°æ®åº“è¡¨
- **é‡è¦**ï¼šä¸šåŠ¡æ¨¡å—è´Ÿè´£æä¾›å·¥ä½œæµå¼•æ“æ‰€éœ€çš„é…ç½®

ä¸šåŠ¡æ¨¡å—åº”åœ¨è‡ªå·±çš„èµ„æºç›®å½•ä¸­å®šä¹‰æ•°æ®åº“è¡¨ï¼š
```sql
-- åœ¨ä¸šåŠ¡æ¨¡å—ä¸­å®šä¹‰å·¥ä½œæµç›¸å…³è¡¨(ç¤ºä¾‹)
CREATE TABLE business_process (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    business_type VARCHAR(64) NOT NULL,
    business_id VARCHAR(64) NOT NULL,
    process_instance_id VARCHAR(64) NOT NULL,
    -- å…¶ä»–ä¸šåŠ¡å­—æ®µ
);
```

### 3. æœåŠ¡æ³¨å…¥
ä½¿ç”¨`@Autowired`å’Œ`@Qualifier`æ³¨å…¥æœåŠ¡ï¼š
```java
@Autowired
@Qualifier("coreProcessServiceImpl")
private ProcessService processService;

@Autowired
@Qualifier("coreTaskServiceImpl")
private TaskService taskService;

@Autowired
@Qualifier("coreFormServiceImpl")
private FormService formService;
```

### 4. æœåŠ¡è°ƒç”¨ç¤ºä¾‹
```java
// å¯åŠ¨æµç¨‹
String processInstanceId = processService.startProcess(
    "contractApproval",  // æµç¨‹å®šä¹‰Key
    "CONTRACT-2024-001", // ä¸šåŠ¡æ ‡è¯†
    Map.of("contractType", "æœåŠ¡åˆåŒ", "priority", "é«˜")  // æµç¨‹å˜é‡
);

// æŸ¥è¯¢ä»»åŠ¡
List<TaskVO> tasks = taskService.listUserTasks("lawyer1");

// å®Œæˆä»»åŠ¡
taskService.completeTask(
    "task1",  // ä»»åŠ¡ID
    Map.of("approved", true, "comment", "åŒæ„")  // ä»»åŠ¡å˜é‡
);
```

### 5. ä¸šåŠ¡å±‚å°è£…å»ºè®®
å»ºè®®åœ¨ä¸šåŠ¡å±‚å¯¹å·¥ä½œæµæœåŠ¡è¿›è¡Œå°è£…ï¼Œå¢åŠ ä¸šåŠ¡é€»è¾‘ï¼š
```java
@Service
public class ContractWorkflowService {
    
    @Autowired
    private ProcessService processService;
    
    /**
     * å¯åŠ¨åˆåŒå®¡æ‰¹æµç¨‹
     */
    public String startContractApprovalProcess(Contract contract) {
        // æ„å»ºä¸šåŠ¡å‚æ•°
        Map<String, Object> variables = new HashMap<>();
        variables.put("contractId", contract.getId());
        variables.put("contractType", contract.getType());
        variables.put("amount", contract.getAmount());
        
        // è°ƒç”¨æµç¨‹æœåŠ¡
        return processService.startProcess(
            "contract_approval",
            "CONTRACT-" + contract.getId(),
            variables
        );
    }
}
```

## é…ç½®è¯´æ˜

æœ¬æ¨¡å—ä½œä¸ºåŠŸèƒ½å°è£…å±‚ï¼Œ**ä¸ç›´æ¥ç®¡ç†é…ç½®**ã€‚ä¸šåŠ¡æ¨¡å—è´Ÿè´£æä¾›ä»¥ä¸‹é…ç½®ï¼š

1. æ•°æ®æºé…ç½®
2. Flowableå¼•æ“é…ç½®
3. æµç¨‹å®šä¹‰æ–‡ä»¶ä½ç½®
4. æµç¨‹å†å²è®°å½•é…ç½®

ä¸šåŠ¡æ¨¡å—æä¾›é…ç½®ç¤ºä¾‹ï¼š
```yaml
# åœ¨ä¸šåŠ¡æ¨¡å—çš„application.ymlä¸­é…ç½®
flowable:
  database-schema-update: true
  history-level: full
  async-executor-activate: true
  process-definition-location-prefix: classpath:/processes/
```

## æ³¨æ„äº‹é¡¹

1. æœ¬æ¨¡å—ä»…æä¾›åŠŸèƒ½å°è£…ï¼Œä¸è´Ÿè´£æ•°æ®æŒä¹…åŒ–
2. æµç¨‹å®šä¹‰æ–‡ä»¶(.bpmn20.xml)åº”æ”¾åœ¨ä¸šåŠ¡æ¨¡å—èµ„æºç›®å½•ä¸‹
3. å·¥ä½œæµç›¸å…³çš„æ•°æ®è¡¨åº”ç”±ä¸šåŠ¡æ¨¡å—å®šä¹‰å’Œç®¡ç†
4. ä¸šåŠ¡æ¨¡å—åº”å¤„ç†å¥½å·¥ä½œæµä¸ä¸šåŠ¡å¯¹è±¡çš„å…³è”å…³ç³»
5. æ‰€æœ‰å·¥ä½œæµé…ç½®åº”ç”±ä¸šåŠ¡æ¨¡å—æä¾›


---

# å·¥ä½œæµæ¨¡å‹æ¨¡å—

## æ¨¡å—è¯´æ˜
å·¥ä½œæµæ¨¡å‹æ¨¡å—æä¾›äº†å¾‹å¸ˆäº‹åŠ¡æ‰€ç³»ç»Ÿä¸­å·¥ä½œæµç›¸å…³çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹å’ŒæœåŠ¡æ¥å£å®šä¹‰ã€‚è¯¥æ¨¡å—ä¸»è¦åŒ…å«æµç¨‹ç®¡ç†ã€ä»»åŠ¡ç®¡ç†ç­‰åŠŸèƒ½çš„åŸºç¡€æ•°æ®ç»“æ„å’ŒæœåŠ¡å®šä¹‰ã€‚

## ç›®å½•ç»“æ„
```
workflow-model/
â”œâ”€â”€ entity/
â”‚   â”œâ”€â”€ base/             # åŸºç¡€æµç¨‹
â”‚   â”‚   â”œâ”€â”€ BaseProcess.java      # æµç¨‹åŸºç±»
â”‚   â”‚   â””â”€â”€ ProcessTask.java      # ä»»åŠ¡åŸºç±»
â”‚   â””â”€â”€ common/           # é€šç”¨æµç¨‹
â”‚       â””â”€â”€ CommonProcess.java    # é€šç”¨æµç¨‹
â”œâ”€â”€ mapper/               # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ ProcessMapper.java        # æµç¨‹Mapper
â”‚   â”œâ”€â”€ TaskMapper.java           # ä»»åŠ¡Mapper
â”‚   â””â”€â”€ CommonProcessMapper.java  # é€šç”¨æµç¨‹Mapper
â”œâ”€â”€ enums/
â”‚   â”œâ”€â”€ ProcessTypeEnum.java   # æµç¨‹ç±»å‹
â”‚   â”œâ”€â”€ ProcessStatusEnum.java # æµç¨‹çŠ¶æ€
â”‚   â””â”€â”€ TaskTypeEnum.java      # ä»»åŠ¡ç±»å‹
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ process/
â”‚   â”‚   â”œâ”€â”€ ProcessCreateDTO.java # æµç¨‹åˆ›å»º
â”‚   â”‚   â”œâ”€â”€ ProcessUpdateDTO.java # æµç¨‹æ›´æ–°
â”‚   â”‚   â””â”€â”€ ProcessQueryDTO.java  # æµç¨‹æŸ¥è¯¢
â”‚   â””â”€â”€ task/
â”‚       â”œâ”€â”€ TaskCreateDTO.java    # ä»»åŠ¡åˆ›å»º
â”‚       â””â”€â”€ TaskQueryDTO.java     # ä»»åŠ¡æŸ¥è¯¢
â”œâ”€â”€ vo/
â”‚   â”œâ”€â”€ ProcessVO.java      # æµç¨‹è§†å›¾
â”‚   â””â”€â”€ TaskVO.java         # ä»»åŠ¡è§†å›¾
â””â”€â”€ service/
    â”œâ”€â”€ ProcessService.java  # æµç¨‹æœåŠ¡
    â””â”€â”€ TaskService.java     # ä»»åŠ¡æœåŠ¡
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. æµç¨‹ç®¡ç†
- æµç¨‹å®šä¹‰ï¼šæ”¯æŒè‡ªå®šä¹‰æµç¨‹æ¨¡æ¿å’Œæµç¨‹èŠ‚ç‚¹
- æµç¨‹å®ä¾‹ï¼šç®¡ç†æµç¨‹å®ä¾‹çš„åˆ›å»ºã€æ›´æ–°ã€æŸ¥è¯¢ç­‰æ“ä½œ
- æµç¨‹çŠ¶æ€ï¼šè·Ÿè¸ªæµç¨‹å®ä¾‹çš„çŠ¶æ€å˜æ›´
- æµç¨‹ç±»å‹ï¼šæ”¯æŒå¤šç§ä¸šåŠ¡ç±»å‹çš„æµç¨‹å®šä¹‰

### 2. ä»»åŠ¡ç®¡ç†
- ä»»åŠ¡åˆ†é…ï¼šæ”¯æŒä»»åŠ¡çš„åˆ›å»ºå’Œåˆ†é…
- ä»»åŠ¡çŠ¶æ€ï¼šè·Ÿè¸ªä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€
- ä»»åŠ¡ç±»å‹ï¼šæ”¯æŒå¤šç§ç±»å‹çš„ä»»åŠ¡å®šä¹‰
- ä»»åŠ¡æŸ¥è¯¢ï¼šæä¾›çµæ´»çš„ä»»åŠ¡æŸ¥è¯¢åŠŸèƒ½

### 3. æ•°æ®è®¿é—®å±‚
- Mapperæ¥å£ï¼šåŸºäºMyBatis-Plusæä¾›é«˜æ•ˆçš„æ•°æ®è®¿é—®èƒ½åŠ›
- é€šç”¨CRUDï¼šç»§æ‰¿BaseMapperè·å–é€šç”¨çš„å¢åˆ æ”¹æŸ¥æ–¹æ³•
- è‡ªå®šä¹‰æŸ¥è¯¢ï¼šæ”¯æŒåŸºäºä¸šåŠ¡éœ€æ±‚çš„å¤æ‚æŸ¥è¯¢åœºæ™¯
- æ‰¹é‡æ“ä½œï¼šæ”¯æŒé«˜æ€§èƒ½çš„æ‰¹é‡æ•°æ®å¤„ç†

## ä¸»è¦ç±»è¯´æ˜

### å®ä½“ç±»
1. BaseProcess
   - æµç¨‹åŸºç±»ï¼Œå®šä¹‰æµç¨‹çš„åŸºæœ¬å±æ€§
   - åŒ…å«ï¼šæµç¨‹IDã€æµç¨‹åç§°ã€æµç¨‹ç±»å‹ã€åˆ›å»ºæ—¶é—´ç­‰
   - æ•°æ®è¡¨ï¼šworkflow_process

2. ProcessTask
   - ä»»åŠ¡åŸºç±»ï¼Œå®šä¹‰ä»»åŠ¡çš„åŸºæœ¬å±æ€§
   - åŒ…å«ï¼šä»»åŠ¡IDã€ä»»åŠ¡åç§°ã€ä»»åŠ¡ç±»å‹ã€æ‰§è¡Œäººç­‰
   - æ•°æ®è¡¨ï¼šworkflow_task

3. CommonProcess
   - é€šç”¨æµç¨‹å®ç°ï¼Œç»§æ‰¿è‡ªBaseProcess
   - é€‚ç”¨äºå¸¸è§„ä¸šåŠ¡æµç¨‹
   - æ•°æ®è¡¨ï¼šworkflow_process

### Mapperæ¥å£
1. ProcessMapper
   - æä¾›BaseProcesså®ä½“çš„æ•°æ®è®¿é—®èƒ½åŠ›
   - æ”¯æŒåŸºäºæµç¨‹çŠ¶æ€ã€ä¸šåŠ¡ç±»å‹ç­‰æ¡ä»¶çš„å¤æ‚æŸ¥è¯¢
   - å®ç°æµç¨‹æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œ

2. TaskMapper
   - æä¾›ProcessTaskå®ä½“çš„æ•°æ®è®¿é—®èƒ½åŠ›
   - æ”¯æŒåŸºäºä»»åŠ¡ç±»å‹ã€æ‰§è¡Œäººã€æˆªæ­¢æ—¥æœŸç­‰æ¡ä»¶çš„æŸ¥è¯¢
   - å®ç°ä»»åŠ¡æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œ

3. CommonProcessMapper
   - æä¾›CommonProcesså®ä½“çš„æ•°æ®è®¿é—®èƒ½åŠ›
   - ç»§æ‰¿è‡ªBaseMapper<CommonProcess>
   - æ”¯æŒé€šç”¨æµç¨‹çš„æ•°æ®æ“ä½œ

### æšä¸¾ç±»
1. ProcessTypeEnum
   - å®šä¹‰æµç¨‹ç±»å‹ï¼šå¦‚æ¡ˆä»¶æµç¨‹ã€åˆåŒæµç¨‹ç­‰

2. ProcessStatusEnum
   - å®šä¹‰æµç¨‹çŠ¶æ€ï¼šå¦‚è‰ç¨¿ã€è¿›è¡Œä¸­ã€å·²å®Œæˆç­‰

3. TaskTypeEnum
   - å®šä¹‰ä»»åŠ¡ç±»å‹ï¼šå¦‚å®¡æ‰¹ä»»åŠ¡ã€å¤„ç†ä»»åŠ¡ç­‰

### DTOç±»
1. ProcessCreateDTO
   - æµç¨‹åˆ›å»ºæ•°æ®ä¼ è¾“å¯¹è±¡
   - åŒ…å«åˆ›å»ºæµç¨‹æ‰€éœ€çš„å¿…è¦ä¿¡æ¯

2. ProcessUpdateDTO
   - æµç¨‹æ›´æ–°æ•°æ®ä¼ è¾“å¯¹è±¡
   - åŒ…å«æ›´æ–°æµç¨‹æ‰€éœ€çš„ä¿¡æ¯

3. TaskCreateDTO
   - ä»»åŠ¡åˆ›å»ºæ•°æ®ä¼ è¾“å¯¹è±¡
   - åŒ…å«åˆ›å»ºä»»åŠ¡æ‰€éœ€çš„å¿…è¦ä¿¡æ¯

### VOç±»
1. ProcessVO
   - æµç¨‹è§†å›¾å¯¹è±¡
   - ç”¨äºå±•ç¤ºæµç¨‹ä¿¡æ¯

2. TaskVO
   - ä»»åŠ¡è§†å›¾å¯¹è±¡
   - ç”¨äºå±•ç¤ºä»»åŠ¡ä¿¡æ¯

### æœåŠ¡æ¥å£
1. ProcessService
   - æä¾›æµç¨‹ç›¸å…³çš„ä¸šåŠ¡æ“ä½œæ¥å£
   - åŒ…å«æµç¨‹çš„CRUDæ“ä½œ

2. TaskService
   - æä¾›ä»»åŠ¡ç›¸å…³çš„ä¸šåŠ¡æ“ä½œæ¥å£
   - åŒ…å«ä»»åŠ¡çš„CRUDæ“ä½œ

## ä½¿ç”¨è¯´æ˜
1. å¼•å…¥ä¾èµ–
```xml
<dependency>
    <groupId>com.lawfirm</groupId>
    <artifactId>workflow-model</artifactId>
    <version>${project.version}</version>
</dependency>
```

2. ç»§æ‰¿åŸºç±»
```java
public class CustomProcess extends BaseProcess {
    // è‡ªå®šä¹‰æµç¨‹å®ç°
}
```

3. ä½¿ç”¨æœåŠ¡æ¥å£
```java
@Autowired
private ProcessService processService;

// åˆ›å»ºæµç¨‹
ProcessCreateDTO createDTO = new ProcessCreateDTO();
Long processId = processService.createProcess(createDTO);

// æŸ¥è¯¢æµç¨‹
ProcessVO process = processService.getProcess(processId);
```

4. ä½¿ç”¨Mapperæ¥å£
```java
@Autowired
private ProcessMapper processMapper;

// åŸºæœ¬æŸ¥è¯¢
BaseProcess process = processMapper.selectById(1L);

// æ¡ä»¶æŸ¥è¯¢
List<BaseProcess> processList = processMapper.selectList(
    new LambdaQueryWrapper<BaseProcess>()
        .eq(BaseProcess::getBusinessType, "case")
        .eq(BaseProcess::getStatus, ProcessStatusEnum.RUNNING.getCode())
        .orderByDesc(BaseProcess::getCreateTime)
);

// åˆ†é¡µæŸ¥è¯¢
Page<BaseProcess> page = new Page<>(1, 10);
IPage<BaseProcess> pageResult = processMapper.selectPage(page, 
    new LambdaQueryWrapper<BaseProcess>()
        .eq(BaseProcess::getStatus, ProcessStatusEnum.PENDING.getCode())
);
```

## æ³¨æ„äº‹é¡¹
1. æ‰€æœ‰å®ä½“ç±»éƒ½ç»§æ‰¿è‡ªBaseModelï¼Œç¡®ä¿åŸºç¡€å­—æ®µçš„ä¸€è‡´æ€§
2. DTOç±»ç»§æ‰¿è‡ªBaseDTOï¼ŒVOç±»ç»§æ‰¿è‡ªBaseVO
3. éµå¾ªç»Ÿä¸€çš„å‘½åè§„èŒƒå’Œä»£ç é£æ ¼
4. ç¡®ä¿å®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–
5. Mapperæ¥å£ç»§æ‰¿BaseMapperï¼Œéµå¾ªMyBatis-Plusè§„èŒƒ
6. å¤æ‚æŸ¥è¯¢è¯·ä½¿ç”¨XMLé…ç½®ï¼Œç®€å•æŸ¥è¯¢å¯ä½¿ç”¨LambdaQueryWrapper
7. æ³¨æ„æ·»åŠ é€‚å½“çš„ç´¢å¼•ä»¥æå‡æŸ¥è¯¢æ€§èƒ½

## è¿ç§»è®°å½•

### 2024-04-28 JPAåˆ°MyBatis Plusè¿ç§»
- æ·»åŠ MyBatis Plusç›¸å…³æ³¨è§£ï¼ˆ@TableNameã€@TableFieldï¼‰
- ç§»é™¤JPAç›¸å…³æ³¨è§£å’Œå¯¼å…¥
- ä¿®æ”¹pom.xmlï¼Œç§»é™¤JPAä¾èµ–ï¼Œæ·»åŠ MyBatis Plusä¾èµ–
- æ›´æ–°å®ä½“ç±»ç»§æ‰¿å…³ç³»ï¼Œä½¿ç”¨ModelBaseEntity
- ä»¥ä¸‹å®ä½“ç±»å·²å®Œæˆè¿ç§»ï¼š
  - BaseProcess.java
  - ProcessTask.java
  - CommonProcess.java

### 2024-05-01 æ·»åŠ Mapperæ¥å£
- æ·»åŠ ProcessMapperæ¥å£ï¼Œå¯¹åº”BaseProcesså®ä½“
- æ·»åŠ TaskMapperæ¥å£ï¼Œå¯¹åº”ProcessTaskå®ä½“
- æ·»åŠ CommonProcessMapperæ¥å£ï¼Œå¯¹åº”CommonProcesså®ä½“
- æ‰€æœ‰Mapperæ¥å£ç»§æ‰¿è‡ªMyBatis-Plusçš„BaseMapper
- æ·»åŠ Mapperæ¥å£ç›®å½•README.mdæ–‡æ¡£è¯´æ˜

---

# law-firm-modules



---

