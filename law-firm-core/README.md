# 律师事务所管理系统 - 核心功能层

## 模块说明

核心功能层提供了系统的核心功能支持，包括AI能力、审计日志、消息处理、搜索服务、存储服务和工作流引擎等基础功能。

### 1. AI能力模块 (core-ai)

提供系统的智能化能力支持，包括：
- 智能文档分析
- 法律文书智能生成
- 案件相似度分析
- 智能问答服务

主要组件：
- provider: AI服务提供者（支持多种AI引擎）
- service: AI核心服务实现
- handler: AI请求处理器
- event: AI相关事件处理
- aop: AI服务切面
- config: AI配置管理
- utils: AI工具类
- exception: AI异常处理

### 2. 审计日志模块 (core-audit)

提供系统操作审计和日志记录功能：
- 操作日志记录
- 数据变更审计
- 安全审计
- 合规性检查

### 3. 消息处理模块 (core-message)

系统消息处理中心，支持：
- 站内消息
- 邮件通知
- 短信通知
- 微信消息
- 消息模板管理
- 消息发送记录

### 4. 搜索服务模块 (core-search)

基于Elasticsearch的搜索服务：
- 全文检索
- 多字段组合搜索
- 聚合分析
- 相关度排序
- 搜索建议

### 5. 存储服务模块 (core-storage)

文件存储服务，支持：
- 本地存储
- MinIO对象存储
- 阿里云OSS
- 腾讯云COS
- 文件版本管理
- 文件访问控制

### 6. 工作流引擎模块 (core-workflow)

基于Flowable的工作流引擎：
- 流程定义管理
- 流程实例管理
- 任务管理
- 流程表单
- 流程监控
- 流程API

## 技术架构

### 1. 开发环境
- JDK 21
- Spring Boot 3.2.x
- Spring Cloud 2023.x
- Maven 3.8+

### 2. 核心依赖
- Spring Boot Starter
- Spring Cloud
- Flowable
- Elasticsearch
- MinIO
- RocketMQ
- OpenAI SDK

### 3. 存储方案
- MySQL: 结构化数据
- Elasticsearch: 搜索数据
- MinIO/OSS: 对象存储
- Redis: 缓存

## 开发规范

### 1. 代码规范
- 遵循阿里巴巴Java开发规范
- 统一的代码格式化模板
- 完整的注释文档
- 单元测试覆盖

### 2. 接口规范
- RESTful API设计
- 统一响应格式
- 标准错误码
- API文档完整
- 接口版本控制

### 3. 安全规范
- 数据加密传输
- 访问权限控制
- 操作日志记录
- 敏感信息脱敏

## 部署说明

### 1. 基础环境要求
- JDK 21+
- MySQL 8.0+
- Redis 6.0+
- Elasticsearch 8.12+
- MinIO/OSS
- RocketMQ 5.0+

### 2. 配置说明
每个核心模块都有独立的配置文件，主要包括：
- application.yml: 基础配置
- bootstrap.yml: 启动配置
- logback-spring.xml: 日志配置

### 3. 部署步骤
1. 环境准备
2. 配置修改
3. 依赖服务启动
4. 应用部署
5. 服务验证

## 版本说明

当前版本：1.0.0
发布日期：2024-03-04

### 主要特性
- AI能力集成
- 审计日志完善
- 消息中心升级
- 搜索服务优化
- 存储服务扩展
- 工作流引擎增强

### 注意事项
1. 所有核心模块都需要添加完整的单元测试
2. 接口变更需要向上兼容
3. 性能优化需要压测验证
4. 配置变更需要文档同步 